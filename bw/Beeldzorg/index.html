<!DOCTYPE html>
<html lang="en">
	<head runat="server">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Nettie Beeldbellen Dashboard</title>
		<link rel="stylesheet" href="css/bootstrap.min.css" />
		<link rel="stylesheet" href="css/prism.css" />
		<link rel="stylesheet" href="css/chatSocketAchex.css" />
		<link rel="stylesheet" href="Content/nice-select.css" />
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="css/responsive.css" />
	</head>

	<body>
		<form id="form1" runat="server">
			<div class="header-area">
				<div class="container-fluid">
					<div class="row">
						<div class="col-sm-4">
							<div class="nav-wrapper">
								<a href="#" class="brand-logo left">
									<img
										src="client/logo.png"
										style="height: 60px;"
									/>
								</a>
								<div id="lname"></div>
								&nbsp; &nbsp; &nbsp; &nbsp; (<asp:LinkButton
									ID="LinkButton1"
									runat="server"
									OnClick="LinkButton1_Click"
									>Logout</asp:LinkButton
								>)
							</div>
						</div>
						<div class="col-sm-4 text-center">
							<h1
								class="brand-logo center"
								style="font-size: 30px;"
							>
								Nettie Beeldzorg
							</h1>
						</div>
						<div class="col-sm-4 text-right">
							<a href="#" class="brand-logo right">
								<img
									src="client/Nettie-logo.png"
									style="height: 63px;"
								/>
							</a>
						</div>
					</div>
				</div>
			</div>

			<div class="container-fluid">
				<div class="row padding-tb">
					<div class="col-sm-3 col-md-2">
						<div class="select-area">
							<select class="select"> </select>
						</div>
					</div>
					<div class="col-sm-9 col-md-9">
						<div class="hidecheckbox">
							<input
								type="checkbox"
								id="checkboxHideConversations"
							/>
							<span>Hide finished conversations</span>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-9">
						<table class="table table-hover table-bordered">
							<thead>
								<tr>
									<th>Name</th>
									<th>Plannend</th>
									<th>Entered</th>
									<th>Status</th>
								</tr>
							</thead>
							<tbody id="patientsList"></tbody>
						</table>
					</div>
					<div class="col-sm-3">
						<div class="panel panel-default">
							<div class="panel-heading">Messages</div>
							<div class="panel-body message-panel-body">
								<ul
									id="messageList"
									class="list-group"
									style="max-height: 141px;overflow: auto;"
								>
									<li class="list-group-item">
										<button
											class="btn btn-primary"
											type="button"
											id="button-addon2"
										>
											-
										</button>
										Welcome<span
											id="delMessage"
											style="cursor: pointer;font-size: 20px;margin-top: -3px;"
											class="pull-right"
											>&times;</span
										>
									</li>
								</ul>
								<div
									class="input-group mb-3"
									style="width: 100%"
								>
									<input
										type="text"
										class="form-control"
										placeholder="message.."
										style="width: 200px"
										id="txtMessage"
										aria-label="Recipient's username"
										aria-describedby="button-addon2"
									/>
									<div class="input-group-append">
										<button
											id="btnSaveMessage"
											class="btn btn-primary"
											style="margin-left:15px;"
											type="button"
											id="button-addon"
										>
											+
										</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div id="popup1" class="overlay">
					<div class="popup">
						<div class="chat__box">
							<div class="chat__box--btn"><span>chat</span></div>
							<div id="Elchat" class="chat__box-field"></div>
						</div>
						<div class="title">
							<h2>Conversation:</h2>
							<a
								class="close"
								href="#"
								onclick=" $('#iframeCall').attr('src', ''); "
								>&times;</a
							>
						</div>
						<div class="content">
							<div class="row" style="height: 100%;">
								<div class="col-sm-12" style="height: 100%;">
									<iframe
										class="doctor-iframe"
										id="iframeCall"
										style="border: none; height: 100%; width: 100%;"
										allow="geolocation; microphone; camera"
										src=""
									></iframe>
								</div>
								<div class="col-sm-3 dis-none">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">
												Invitations:
											</h3>
										</div>
										<div class="panel-body">
											<input
												type="text"
												class="form-control"
												placeholder="link"
												id="invitelink"
												value=""
												style="width: 100%; font-size: 10px"
												aria-label="Recipient's username"
												aria-describedby="button-addon2"
											/>
											<input
												type="text"
												class="form-control"
												id="contactin"
												placeholder="email"
												style="width: 150px"
												aria-label="Recipient's username"
												aria-describedby="button-addon2"
											/>
											<div class="dropdown">
												<button
													class="btn btn-primary dropdown-toggle"
													type="button"
													data-toggle="dropdown"
												>
													Mail &nbsp;<span
														class="caret"
													></span>
												</button>
												<ul class="dropdown-menu">
													<li>
														<a href="#">Mail</a>
													</li>
													<li><a href="#">Sms</a></li>
													<li>
														<a href="#">WhatsApp</a>
													</li>
												</ul>
											</div>
											<div
												class="input-group mb-3"
												style="width: 100%"
											>
												<input
													type="text"
													class="form-control"
													placeholder="message.."
													style="width: 220px"
													aria-label="Recipient's username"
													aria-describedby="button-addon21"
												/>
												<div class="input-group-append">
													<button
														class="btn btn-primary"
														type="button"
														id="button-addon21"
														onclick="Invite();"
													>
														+
													</button>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<asp:Label
					ID="accountID"
					runat="server"
					Text="Label"
					Style="visibility: hidden"
					>1</asp:Label
				>
				<asp:Label
					ID="Loginname"
					runat="server"
					Text="Label"
					Style="visibility: hidden"
					>Test</asp:Label
				>
				<asp:Label
					ID="token"
					runat="server"
					Text="Label"
					Style="visibility: hidden"
				></asp:Label>
			</div>
		</form>

		<script src="Scripts/jquery.min.js"></script>
		<script src="Scripts/bootstrap.min.js"></script>
		<script src="Scripts/jquery.nice-select.min.js"></script>
		<script src="Scripts/underscore-min.js"></script>
		<script src="Scripts/prism.js"></script>
		<script src="Scripts/chatSocketAchex.js"></script>
		<script src="Scripts/main.js"></script>
		<script>
			document.getElementById(
				'lname'
			).innerHTML = document.getElementById('Loginname').innerHTML;
		</script>

		<script>
			// /JUST AN EXAMPLE, PLEASE USE YOUR OWN PICTURE!
			var imageAddr = 'Images/img.jpg';
			var downloadSize = 4995374; //bytes

			function ShowProgressMessage(msg) {
				if (console) {
					if (typeof msg == 'string') {
						console.log(msg);
					} else {
						for (var i = 0; i < msg.length; i++) {
							console.log(msg[i]);
						}
					}
				}

				var oProgress = document.getElementById('progress');
				if (oProgress) {
					var actualHTML =
						typeof msg == 'string' ? msg : msg.join('<br />');
					oProgress.innerHTML = actualHTML;
				}
			}

			function InitiateSpeedDetection() {
				ShowProgressMessage('Loading the image, please wait...');
				window.setTimeout(MeasureConnectionSpeed, 1);
			}

			if (window.addEventListener) {
				window.addEventListener('load', InitiateSpeedDetection, false);
			} else if (window.attachEvent) {
				window.attachEvent('onload', InitiateSpeedDetection);
			}

			function MeasureConnectionSpeed() {
				var startTime, endTime;
				var download = new Image();
				download.onload = function() {
					endTime = new Date().getTime();
					showResults();
				};

				download.onerror = function(err, msg) {
					ShowProgressMessage('Invalid image, or error downloading');
				};

				startTime = new Date().getTime();
				var cacheBuster = '?nnn=' + startTime;
				download.src = imageAddr + cacheBuster;

				function showResults() {
					var duration = (endTime - startTime) / 1000;
					var bitsLoaded = downloadSize * 8;
					var speedBps = (bitsLoaded / duration).toFixed(2);
					var speedKbps = (speedBps / 1024).toFixed(2);
					var speedMbps = (speedKbps / 1024).toFixed(2);
					ShowProgressMessage([
						'Your connection speed is:',
						speedBps + ' bps',
						speedKbps + ' kbps',
						speedMbps + ' Mbps'
					]);
				}
			}
		</script>

		<script>
			// Let's initialize the primitives
			var startTime, endTime, fileSize;

			// Set up the AJAX to perform
			var xhr = new XMLHttpRequest();

			// Rig the call-back... THE important part
			xhr.onreadystatechange = function() {
				// we only need to know when the request has completed
				if (xhr.readyState === 4 && xhr.status === 200) {
					// Here we stop the timer & register end time
					endTime = new Date().getTime();

					// Also, calculate the file-size which has transferred
					fileSize = xhr.responseText.length;

					// Calculate the connection-speed
					var speed =
						(fileSize * 8) / ((endTime - startTime) / 1000) / 1024;

					// Report the result, or have fries with it...
					console.log(speed + ' Kbps\n');
					var mbps = speed / 1024;
					console.log(
						'Output: -------------------------------------------'
					);
					console.log('Output: xhr.onreadystatechange -> mbps', mbps);
					console.log(
						'Output: -------------------------------------------'
					);
				}
			};

			// Snap back; here's where we start the timer
			startTime = new Date().getTime();

			// All set, let's hit it!
			xhr.open('GET', 'Images/img.jpg', true);
			xhr.send();
		</script>

		<script>
			var imageAddr = 'Images/img.jpg' + '?n=' + Math.random();
			var startTime, endTime;
			var downloadSize = [4995374];
			var download = new Image();
			download.onload = function() {
				endTime = new Date().getTime();
				showResults();
			};
			startTime = new Date().getTime();
			download.src = imageAddr;

			function showResults() {
				var duration = (endTime - startTime) / 1000;
				var bitsLoaded = downloadSize * 8;
				var speedBps = (bitsLoaded / duration).toFixed(2);
				var speedKbps = (speedBps / 1024).toFixed(2);
				var speedMbps = (speedKbps / 1024).toFixed(2);
				alert(
					'Your connection speed is: \n' +
						speedBps +
						' bps\n' +
						speedKbps +
						' kbps\n' +
						speedMbps +
						' Mbps\n'
				);
			}
		</script>
	</body>
</html>
